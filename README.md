# 쿠빵 (Coupang) 프로젝트

🛍️ **쿠빵** - 당신의 쿠폰을 빠르고 정확하게 발급하는 서비스  
🔰 **선착순 동시 쿠폰 발급 시스템**  
**프로젝트 기간**: 2025/01/31 ~ 2025/02/07

⭐️ **스파르타 내일배움캠프 플러스 프로젝트** : 8조 ⭐️

---

## 프로젝트 목표

- **선착순 쿠폰 발급**: 대량 트래픽을 처리하며 빠르고 정확한 쿠폰 발급 서비스를 제공합니다.
- **분산 락을 통한 동시성 제어**: 선착순 쿠폰 발급 시스템을 구현하여 사용자들의 동시 요청을 처리합니다.
- **AWS 환경에서 배포**: EC2, RDS, 로드밸런싱, S3 및 도메인 관리 등 AWS 서비스를 활용하여 안정적이고 확장 가능한 시스템을 구축합니다.

---

## 📚 **기술 스택**

[기술 스택]
[![My Skills](https://skillicons.dev/icons?i=js,html,css,wasm)](https://skillicons.dev)

---

## 🏆 **서비스 성능**

### 대용량 트래픽 처리
- **가상 쿠폰 발급 사용자 1000명**, 쿠폰 100건 발급 시 **Redis 분산락** 이용하면 2초 이내

### 상품 조회 속도
- **상품 데이터 50만 건** 누적 후 페이지네이션 상품 조회 속도: **0.1초 이내**

### 검색 속도
- **최초 검색 속도**: 6초 (데이터 차지량에 따른 차이 발생)
- **캐싱 이후 검색 속도**: **0.1초 이내**

---

## 🔧 **성능 개선**

1. 💿 **DB 최적화**: 여행 상품 데이터 조회 속도 개선
2. 📀 **DB 최적화**: 여행 상품 검색 속도 개선
3. 🚀 **레디스 캐싱**: 데이터 캐싱을 통한 빠른 응답 처리
4. 🛣️ **부하 분산**: AWS 로드밸런싱을 활용한 부하 분산
5. 🔍 **Elasticsearch**: 엘라스틱 서치를 이용한 검색 속도 개선

<details>
  <summary>📊 Elasticsearch 성능 비교 결과 (클릭해서 보기)</summary>

![Elasticsearch 성능 비교](https://github.com/user-attachments/assets/0ee0141b-38c5-4f6b-84be-54a31de92d47)

| **검색 방법**                  | **설명**                         | **실행 속도 (ms)** |
  |--------------------------------|--------------------------------|-------------------|
| `getPopularKeywords()`         | 기본적인 검색어 집계            | **39ms**          |
| `getPopularKeywordsOptimized()` | 실행 힌트 적용 (`Map` 방식)     | **33ms**          |
| `getPopularKeywordsFastest()`   | 실행 힌트 + 쿼리 캐싱 적용      | **17ms**          |

- **최적화 결과**
    - 기본 검색 대비 **최대 2.3배 속도 향상**
    - `executionHint(TermsAggregationExecutionHint.Map)` 적용 시 **15% 속도 개선**
    - `requestCache(true)` 적용 후 **50% 추가 속도 개선**
    - 캐싱된 검색어 데이터를 활용하면 **0.1초 이내** 응답 가능

</details>


## 🔒 **트러블슈팅**

1. **SQL 최적화**: 검색 시 사용자가 선택한 조건의 조합에 따른 쿼리 적용 방법 고민
2. **동시성 제어**: 선착순 쿠폰 발급 대한 데이터 정확성 확보
3. **AWS 배포 서버 중단 문제**: AWS EC2 인스턴스 중단 대응

---

## 📈 **추가 개선 가능 점**

- **대기열 시스템**: 대량의 트래픽이 몰리는 것을 방지하는 대기열 시스템 추가 예정
- **트래픽 이벤트 처리**: 트래픽이 몰릴 이벤트 상품 데이터를 미리 캐싱하여 빠른 처리 지원
- **ElasticSearch 도입**: 대용량 데이터 환경에서 뛰어난 성능을 보이는 검색 기능 도입

---

## 💽 **데이터 출처**

- **다나와 여행**에서 크롤링한 데이터
- **Crawling 코드**: [Tour-Ranger-Crawling GitHub Repository](https://github.com/your-repo/crawling)

---

## 🤝 **팀원**

| 이름   | 깃허브                                                   |
|--------|---------------------------------------------------------|
| 최대현 | [https://github.com/DeaHyun0911](https://github.com/DeaHyun0911) |
| 김리은 | [https://github.com/llRosell](https://github.com/llRosell) |
| 최순우 | [https://github.com/asdd2557](https://github.com/asdd2557) |
| 이경훈 | [https://github.com/kyung412820](https://github.com/kyung412820) |

---

